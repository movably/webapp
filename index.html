<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Flamingo Web App</title>
    <meta name="description" content="Control the Flamingo Chair with a Web Bluetooth app.">
    <meta name="theme-color" content="#333333" />
    <link rel="icon" sizes="192x192" href="../favicon.png">
    <link rel="manifest" href="manifest.json">

    <link rel="stylesheet" href="code.getmdl.io/1.0.4/material.green-light_green.min.css">
    <script src="code.getmdl.io/1.0.4/material.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="styles.css">
    <!-- ********************************* -->
    <link rel="stylesheet" href="styles2.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darck dashboard</title>
    <script src="js/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  </head>
  <body id="state">

    

    <!-- ******************************** -->
    <!-- start sidebar -->
    
    <!-- start main content -->
    <div class="main-content">

        <header>
           <!--  <label for="" class="menu-toggler">
                <span class="las la-bars"></span>
            </label> -->

            <div class="head-icons">
              <!-- <div id="titleDeviceModel">Axxxx</div>
              <div id="titleDeviceSerial">Axxxx</div> -->
            <div>
            <!-- <div class="search">
                <span class="las la-search"></span>
                <input type="search" placeholder="Enter User Email">
            </div> -->

        </header>


        <main>
          <div id="step1">
            <div id="title">Flamingo Web App</div>

            <button id="connect" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">CONNECT</button>

            <div id="no-bluetooth" class="no-bluetooth-card-square mdl-card mdl-shadow--2dp">
              <div class="mdl-card__title mdl-card--expand">
                <h2 class="mdl-card__title-text">No Web Bluetooth</h2>
              </div>
              <div class="mdl-card__supporting-text">
                Web Bluetooth isn't currently enabled. Please check that your browser and
                device support it and have any necessary development flags set.
              </div>
            </div>

            <div id="loading">
              <div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active"></div>
            </div>
          </div>

          <div id="step2">
            <div id="title2">Connected to a Flamingo Chair!</div>
            <div id="titleDeviceModel"></div>
            <div id="titleDeviceSerial"></div>

            <div class="cards">
                <div class="card">
                    <div class="card-icon follow">
                        <span class="las la-recycle"></span>
                    </div>
                    <div class="card-info">
                        <!-- <h2>3,281</h2> -->
                        <small>Chair Mode</small>
                    </div>

                    <div class="row">
                      <div class="column" style="width: 80%;">
                        <div class="preference">
                          <label class = "mdl-switch mdl-js-switch mdl-js-ripple-effect" 
                            for = "auto-switch" >
                            Enable Auto Mode
                          <input type = "checkbox" id = "auto-switch" 
                                 class = "mdl-switch__input" >
                          </label>
                        </div>
                        
                        <hr>


                        <div class="mdl-radio__label" style="text-align: left;"> Select the auto sequence:</div>
                        <div style="text-align: left;">
                          <!-- <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="manualMode"> -->
                          <label for="AutoMode0">
                            <input type="radio" id="AutoMode0" value=0 name="effectSwitch" checked/>
                            <span class="mdl-radio__label">Sit to Stand (right leg leads)</span>
                          </label>
                          <!-- <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="autoMode"> -->
                          <label for="AutoMode1">
                            <input type="radio" id="AutoMode1" value=1 name="effectSwitch"/>
                            <span class="mdl-radio__label">Flamingos Through Standing</span>
                          </label>

                          <label for="AutoMode2">
                            <input type="radio" id="AutoMode2" value=2 name="effectSwitch"/>
                            <span class="mdl-radio__label">Round Trip</span>
                          </label>

                          <label for="AutoMode5">
                            <input type="radio" id="AutoMode5" value=5 name="effectSwitch"/>
                            <span class="mdl-radio__label">Sit to Stand (alt leg leads)</span>
                          </label>

                        </div>

                      </div>
                      <div class="column" style="width: 20%;">
                        <div class="base-timer" id="base_timer" style="display:none">
                          <svg class="base-timer__svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <g class="base-timer__circle">
                              <circle class="base-timer__path-elapsed" cx="50" cy="50" r="45"></circle>
                              <path
                                id="base-timer-path-remaining"
                                stroke-dasharray="283"
                                class="base-timer__path-remaining ${remainingPathColor}"
                                d="
                                  M 50, 50
                                  m -45, 0
                                  a 45,45 0 1,0 90,0
                                  a 45,45 0 1,0 -90,0
                                "
                              ></path>
                            </g>
                          </svg>
                          <span id="base-timer-label" class="base-timer__label">${formatTime(
                            timeLeft
                          )}</span>
                        </div>
                      </div>
                    </div>

                    
                    
                </div>

                <div class="card">
                    <div class="card-icon ecoles">
                        <span class="las la-sliders-h"></span>
                    </div>
                    <div class="card-info">
                        <!-- <h2>851</h2> -->
                        <small>Chair Config</small>
                    </div>

                    <br>
                    <br>
                    <!-- <div class="card-images">  -->
                        <div id="slider1Title" class="sliderTitle"></div>

                        <input type="range" min="1" max="10" value="1"  step="0.1" class="slider" id="slider1">
                        <!-- <input type="range" min="1" max="10" value="1"  step="0.1" class="slider" id="slider1" list="my-detents">
                        <datalist id="my-detents">
                          <option value="1">
                          <option value="2">
                          <option value="3">
                          <option value="4">
                          <option value="5">
                          <option value="6">
                          <option value="7">
                          <option value="8">
                          <option value="9">
                          <option value="10">
                        </datalist> -->
                        <div id="slider1Value" class="sliderValue">?</div>

                        
                    <!-- </div> -->
                    <hr>

                </div>

                <div class="card">
                    <div class="card-icon formateur">
                        <span class="las la-hand-paper"></span>
                    </div>
                    <div class="card-info">
                        <!-- <h2>1,912</h2> -->
                        <small>Manual Control</small>
                    </div>

                    <br>
                    <br>
                    <!-- <div id="container"> -->
                        <!-- <div id="left">Left Side:</div> -->
                        <button id="left" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Left Side</button>
                        <div id="middle"></div>
                        <button id="right" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Right Side</button>
                        <!-- <div id="right">Right Side:</div> -->
                    <!-- </div> -->
                </div>

                
            </div>

            <!-- TABS -->
            <div class="w3-container" style="padding: 2rem 1rem;">

              <div class="w3-bar w3-text-white">
                <button class="w3-bar-item w3-button tablink w3-amber" onclick="openCity(event,'Hide Tabs')">Hide Tabs</button>
                <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Diagnostics Tab')">Diagnostics Tab</button>
                <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'WiFi setup')">WiFi setup</button>
                <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'MOS_request')">MOS</button>
              </div>

              <div id="Hide Tabs" class="w3-container w3-border city">
                
              </div>
              
              <div id="MOS_request" class="w3-container w3-border city" style="display:none">
                <div class="cards">
                  <div class="card">
                    <div class="card">
                      <div class="card-info">
                          <small>Your positions</small>
                      </div>
                      
                      <select id="inputMOSDate" name="MOSDateSelector"></select><br>
                      <div>All:</div>
                      <div id="MOS_out_String"></div>
                      <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="MOS_request_btn">Refresh</button>

                      <hr>
                    </div>

                  </div>
                  
                </div>
              </div>


              <div id="WiFi setup" class="w3-container w3-border city" style="display:none">
                <div class="cards">
                  <div class="card">
                    <div class="card">
                      <div class="card-info">
                          <small>Setup WiFi credentials</small>
                      </div>

                      <div>WiFi SSID:</div>
                      <select id="inputWiFiSSID" name="WiFiSSID"></select><br>
                      <div>WiFi password:</div>
                      <input type="text" id="inputWiFiPWD" name="WiFiPWD"><br>
                      <div> ***************** </div>
                      <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="setWiFiSettings">Set</button>

                      <hr>
                      <div id="wifistatusString"></div>
                      <div id="blow"></div>
                    </div>

                  </div>

                  <div class="card">
                    <div class="card-info">
                        <small>Update Chair Info</small>
                    </div>
                    <div>User e-mail:</div>
                    <input type="text" id="inputEmail" name="userEmail"><br>
                    
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="setDeviceInfo">Set Info</button>
  
                    <hr>
                    <div id="statusString"></div>
                    <div id="blow"></div>
                  </div>
                  
                </div>
              </div>

              <div id="Diagnostics Tab" class="w3-container w3-border city" style="display:none">
                  
                  <div class="cards">

                        <div class="card">
                          <!-- <div id="otaContainer"> -->
                            <div class="card-info">
                                <small>Software Update</small>
                            </div>
                            <div id="currentVersionTitle"> Current version: </div>
                            <div id="inputOtaTitle"> Select a software binary file for update: </div>
                            <br><br>
                            <input type="file" id="file">
                            
                            <label for="file" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="inputFile">Select file</label>

                            <br>
                           
                            <pre id="output"></pre>
                            
                          <!-- </div> -->
                        </div>

                        <div class="card">
                          <div class="card-info">
                                <small>Vibration Settings</small>
                            </div>

                          <hr>

                          <!-- Motor Sound Config -->
                          <div class="card-info" id="motors_sound_title">
                            <small>Main motor strength</small>
                          </div>
                          <div class = "mdl-tooltip" for = "motors_sound_title">For A3s, or when vibro motors are disabled on A4s.</div>
                          <!-- Left Motor Sound Slider -->
                          <div id="leftSoundSliderTitle" class="sliderTitle"></div>
                          <input type="range" min="0" max="100" value="1"  step="1" class="slider" id="leftSoundSlider">
                          <div id="leftSoundSliderValue" class="sliderValue">?</div>
                          <!-- <div id="leftSoundSliderTitle" class="sliderTitle"></div> -->


                        </div>

                  </div>                  

                  <!-- <div id="bar-example" style="height: 350px;"></div> -->
              </div>

              
            </div>
          </div>

          
        </main>
    </div>

    <label class="close-mobile-menu" for="menu-toggle"></label>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js"></script>
    <script src="js/script.js"></script>

    <!-- ********************************* -->
    


      <!-- <div class="slider1container">
        <div id="slider1Title" class="sliderTitle"></div>
        <input type="range" min="1" max="10" value="1"  step="0.1" class="slider" id="slider1">
        <div id="slider1Value" class="sliderValue">?</div>
      </div> -->


      

  






    <script src="plotly.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="FlamingoBle.js?random=<?php echo filemtime('FlamingoBle.js'); ?>"></script>
    <script src="slider.js?random=<?php echo filemtime('slider.js'); ?>"></script>
    <script src="app.js?random=<?php echo filemtime('app.js'); ?>"></script>
    <!-- <script>
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
        .then(function(registration) {
          console.log("Service Worker Registered");
        });
      }
    </script> -->
    


    

  </body>
</html>
